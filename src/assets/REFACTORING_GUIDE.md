# 🏗️ 리팩토링 가이드: 왜 쪼개고, 어떻게 돌아가는가?

## 1. 왜 파일을 분리해야 하나요? (The "Why")

지금 `App.tsx` 하나에 모든 코드가 들어있는 건, 마치 **"주방, 홀, 카운터, 창고가 구분 없이 한 방에 다 있는 식당"**과 같습니다.

### ❌ 분리하기 전 (Monolithic)
- **문제점 1:** 코드가 500줄이 넘어가면, '결과 화면'을 고치고 싶은데 스크롤을 한참 내려서 찾아야 합니다.
- **문제점 2:** `App.tsx`에서 변수 하나를 고쳤는데, 실수로 다른 화면 코드를 건드릴 위험이 큽니다.
- **문제점 3:** 나중에 백엔드 개발자와 협업할 때, "어디 고치면 돼?"라고 물어보면 설명하기 어렵습니다.

### ✅ 분리한 후 (Modular)
- **장점 1:** `LandingPage.tsx`에는 오직 '첫 화면' 관련된 코드만 있습니다. 집중하기 좋습니다.
- **장점 2:** `App.tsx`는 깔끔해집니다. 전체적인 **"순서(흐름)"**만 관리하는 지배인이 됩니다.
- **장점 3:** `LoadingOverlay` 같은 컴포넌트는 나중에 다른 프로젝트에서도 복사해서 재사용할 수 있습니다.

---

## 2. 분리하면 어떻게 작동하나요? (The "How")

가장 중요한 개념은 **"부모(Parent)와 자식(Child)의 대화법"**입니다.

### 👨‍👦 역할 분담
1.  **부모 (`App.tsx`):**
    - `gameState` (지금 무슨 화면인지), `userCode` (입력한 코드) 같은 **핵심 데이터(State)**를 금고에 가지고 있습니다.
    - 화면을 갈아끼우는 권한을 가집니다.

2.  **자식 (`LandingPage`, `InputPage` 등):**
    - 자기만의 `state`는 최소한으로 가집니다.
    - 화면에 그림을 그리는 역할에 집중합니다.
    - **중요:** 자식은 부모의 `state`를 직접 바꿀 수 없습니다. (금고 열쇠가 없음)

### 📞 리모컨(Props) 전달 방식
부모는 자식에게 일을 시킬 때 **함수(Function)**를 선물로 줍니다. 이걸 `Props`라고 합니다.

**[상황 예시: 첫 화면에서 '참가하기' 버튼 누름]**

1.  **`App.tsx` (부모)**: 
    > "랜딩 페이지야, 내가 `onStart`라는 버튼을 줄게. 네가 가진 버튼이 눌리면 이 `onStart` 버튼을 눌러줘."
    ```tsx
    <LandingPage onStart={() => setGameState('SELECTION')} />
    ```

2.  **`LandingPage.tsx` (자식)**:
    > (사용자가 화면의 버튼 클릭!) -> "어? 사용자가 클릭했네. 아까 부모님이 주신 `onStart` 버튼을 눌러야겠다!"
    ```tsx
    // 자식 컴포넌트 내부
    <button onClick={props.onStart}>참가하기</button>
    ```

3.  **결과**:
    - 자식이 `onStart`를 누르는 순간 -> 부모의 `setGameState('SELECTION')`이 실행됨 -> `App.tsx`가 다시 그려지면서 화면이 바뀜.

---

## 3. 앞으로의 작업 순서 (Action Plan)

이제 `LandingPage`는 분리했으니, 나머지 화면들도 하나씩 떼어내야 합니다.

### Step 1. `SelectionPage.tsx` 분리 (직군 선택)
- **할 일:** Frontend/Backend 선택 버튼이 있는 화면을 떼어냅니다.
- **데이터 흐름:** 사용자가 'Frontend'를 클릭 -> 부모에게 "나 Frontend 골랐어!"라고 알림 (`onSelect`)

### Step 2. `InputPage.tsx` 분리 (코드 입력)
- **할 일:** 코드 에디터 화면을 떼어냅니다.
- **데이터 흐름:** 사용자가 코드를 다 짜고 '제출' 클릭 -> 부모에게 "이 코드(`userCode`)로 심사해줘!"라고 알림 (`onSubmit`)

### Step 3. `ResultPage.tsx` 분리 (결과)
- **할 일:** 결과 카드와 심사평 화면을 떼어냅니다.
- **데이터 흐름:** 부모가 계산한 `result` 데이터를 받아서 -> 화면에 예쁘게 보여주기만 함 (`Read-Only`).